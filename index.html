<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - Automation JSON Scanner</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
 <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .card-glass {
            background: rgba(17, 25, 40, 0.75);
            backdrop-filter: blur(16px) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.125);
        }
    </style>
</head>

<script>
  const supabaseUrl = "https://YOUR_PROJECT_ID.supabase.co";
  const supabaseKey = "YOUR_PUBLIC_ANON_KEY";
  const supabase = supabase.createClient(supabaseUrl, supabaseKey);

  // ðŸ”’ Yetki kontrolÃ¼
  (function () {
    const remember = localStorage.getItem("remember") === "true";
    const storage = remember ? localStorage : sessionStorage;

    const session = storage.getItem("sb-session");
    if (!session) {
      window.location.href = "login.html";
    }
  })();

  async function logout() {
    await supabase.auth.signOut();
    localStorage.clear();
    sessionStorage.clear();
    window.location.href = "login.html";
  }
</script>   
    
<body class="bg-gray-900">
    <div class="min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8">
        <div class="max-w-md w-full">
            <div class="card-glass rounded-2xl p-8 shadow-2xl">
                <div class="text-center mb-10">
                    <i class="fa-brands fa-firefox-browser text-6xl mb-4" style="color: #FFD43B;"></i>
                    <h2 class="text-3xl font-bold text-white">
                        Automation JSON Browser
                    </h2>
                    <p class="mt-2 text-gray-400">
                        N8N JSON Browser - Secure Login
                    </p>
                </div>
                
                <div id="login-container">
                    <!-- Google Login -->
                    <div class="mb-6">
                        <button id="google-login-btn" 
                                class="w-full flex items-center justify-center gap-3 py-3.5 px-4 rounded-lg bg-white text-gray-800 font-semibold hover:bg-gray-100 transition-all shadow-md">
                            <i class="fab fa-google text-red-500"></i>
                            Continue with Google
                        </button>
                    </div>
                    
                    <!-- Divider -->
                    <div class="flex items-center my-8">
                        <div class="flex-grow border-t border-gray-700"></div>
                        <span class="flex-shrink mx-4 text-gray-500 text-sm">Or continue with</span>
                        <div class="flex-grow border-t border-gray-700"></div>
                    </div>
                    
                    <!-- Email Login Form -->
                    <form id="email-login-form" class="space-y-6">
                        <div>
                            <label class="block text-sm font-medium text-gray-300 mb-2">
                                Email Address
                            </label>
                            <div class="relative">
                                <i class="fas fa-envelope absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500"></i>
                                <input id="email" type="email" required
                                    class="w-full pl-10 pr-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                    placeholder="you@example.com">
                            </div>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-300 mb-2">
                                Password
                            </label>
                            <div class="relative">
                                <i class="fas fa-lock absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500"></i>
                                <input id="password" type="password" required
                                    class="w-full pl-10 pr-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                    placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢">
                                <button type="button" onclick="togglePassword()" class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-300">
                                    <i class="fas fa-eye"></i>
                                </button>
                            </div>
                        </div>
                        
                        <div class="flex items-center justify-between">
                            <label class="flex items-center">
                                <input type="checkbox" class="h-4 w-4 text-blue-500 focus:ring-blue-500 border-gray-700 rounded bg-gray-800">
                                <span class="ml-2 text-sm text-gray-400">Remember me</span>
                            </label>
                            <a href="#" id="forgot-password" class="text-sm text-blue-400 hover:text-blue-300">
                                Forgot password?
                            </a>
                        </div>
                        
                        <button type="submit" id="signin-btn"
                                class="w-full py-3.5 px-4 rounded-lg gradient-bg text-white font-semibold hover:opacity-90 transition-all shadow-lg">
                            Sign In
                        </button>
                    </form>
                    
                    <!-- Sign Up Link -->
                    <div class="mt-8 text-center">
                        <p class="text-gray-400">
                            Don't have an account?
                            <a href="#" id="signup-toggle" class="text-blue-400 hover:text-blue-300 font-medium ml-1">
                                Sign up here
                            </a>
                        </p>
                    </div>
                </div>
                
                <!-- Sign Up Form (Hidden Initially) -->
                <div id="signup-container" class="hidden space-y-6">
                    <div class="text-center mb-6">
                        <h3 class="text-xl font-bold text-white">Create Account</h3>
                        <p class="text-gray-400 text-sm">Join our automation community</p>
                    </div>
                    
                    <form id="signup-form">
                        <div class="space-y-6">
                            <div>
                                <label class="block text-sm font-medium text-gray-300 mb-2">
                                    Full Name
                                </label>
                                <div class="relative">
                                    <i class="fas fa-user absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500"></i>
                                    <input id="signup-name" type="text" required
                                        class="w-full pl-10 pr-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                        placeholder="John Doe">
                                </div>
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-300 mb-2">
                                    Email Address
                                </label>
                                <div class="relative">
                                    <i class="fas fa-envelope absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500"></i>
                                    <input id="signup-email" type="email" required
                                        class="w-full pl-10 pr-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                        placeholder="you@example.com">
                                </div>
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-300 mb-2">
                                    Password
                                </label>
                                <div class="relative">
                                    <i class="fas fa-lock absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500"></i>
                                    <input id="signup-password" type="password" required minlength="6"
                                        class="w-full pl-10 pr-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                        placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢">
                                </div>
                                <p class="mt-1 text-xs text-gray-500">Minimum 6 characters</p>
                            </div>
                            
                            <div class="flex items-center">
                                <input type="checkbox" id="terms" required
                                    class="h-4 w-4 text-blue-500 focus:ring-blue-500 border-gray-700 rounded bg-gray-800">
                                <label for="terms" class="ml-2 text-sm text-gray-400">
                                    I agree to the 
                                    <a href="#" class="text-blue-400 hover:text-blue-300">Terms of Service</a>
                                    and 
                                    <a href="#" class="text-blue-400 hover:text-blue-300">Privacy Policy</a>
                                </label>
                            </div>
                            
                            <div class="flex gap-3">
                                <button type="submit" id="signup-btn"
                                        class="flex-1 py-3.5 px-4 rounded-lg gradient-bg text-white font-semibold hover:opacity-90 transition-all">
                                    Create Account
                                </button>
                                <button type="button" id="back-to-login"
                                        class="flex-1 py-3.5 px-4 rounded-lg bg-gray-700 text-gray-300 font-semibold hover:bg-gray-600 transition-all">
                                    Back
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
                
                <!-- Error/Success Messages -->
                <div id="message-container" class="mt-6"></div>
            </div>
            
            <div class="text-center text-xs text-gray-500 mt-8">
                <p>Â© 2026 Automation JSON Browser. All rights reserved.</p>
                <p class="mt-1">Secure authentication powered by Supabase & Muammer Altunkan</p>
            </div>
        </div>
    </div>
    
    <script src="auth.js"></script>
    <script src="login.js"></script>
</body>
</html>
